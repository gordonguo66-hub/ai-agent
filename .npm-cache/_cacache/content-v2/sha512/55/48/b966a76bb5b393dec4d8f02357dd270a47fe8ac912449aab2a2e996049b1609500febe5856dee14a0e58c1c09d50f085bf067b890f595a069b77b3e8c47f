{"_id":"@nktkas/rews","_rev":"8-9fadc9ae7d643c098ec9f9bc75b8cd90","name":"@nktkas/rews","dist-tags":{"latest":"1.2.3"},"versions":{"0.1.0":{"name":"@nktkas/rews","version":"0.1.0","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@0.1.0","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"189fc39b5843b9515691547cf202d193b0fadf6f","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-0.1.0.tgz","fileCount":9,"integrity":"sha512-hEif/EiQtJ+FTEX5ZmEGzxQG5b8qfG5dlcXWIWv0k8jYu+Wu8YEmCzXY5i8GPPA01umQZ5Pv7YA933Wl8EbvdA==","signatures":[{"sig":"MEQCIAEGQCbDYBH5BMD+/Y9va9SVVGLPlJUv+AJVvSa1v1lhAiBTYllaCERCnfeRRn/b+CTsHjDqJsP6dwGhRLCQrPR7UQ==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@0.1.0","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":38495},"main":"./script/mod.js","types":"./script/mod.d.ts","module":"./esm/mod.js","exports":{".":{"import":"./esm/mod.js","require":"./script/mod.js"}},"gitHead":"72ecbb09505b64c37a5d8175b77a3d44664c6022","scripts":{},"_npmUser":{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.1","description":"Drop-in WebSocket replacement that reconnects automatically and preserves all event listeners and buffered messages.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.0","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/rews_0.1.0_1762167883355_0.6612584941118749","host":"s3://npm-registry-packages-npm-production"}},"1.0.0":{"name":"@nktkas/rews","version":"1.0.0","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@1.0.0","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"f9c16bade57dfbce4cf68aa59b64737747673867","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.0.0.tgz","fileCount":9,"integrity":"sha512-SI/cWidGwPAA4CflvA+Ald+WiyYGf6A28MgEfGGy5HEStvl4Xeot5xiLfwzFVihy5/B6zMc19fcdaWKJdKA6Jg==","signatures":[{"sig":"MEQCIGChe9qU50Jd0a4rZrX0Vu6U08WdHhfdIfhrY0vgrx4dAiARQI/dAmUmiG3n+A0xIVLXG9i5oXy4B4nM8L4zgH9FFw==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.0.0","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":39546},"main":"./script/mod.js","types":"./script/mod.d.ts","module":"./esm/mod.js","exports":{".":{"import":"./esm/mod.js","require":"./script/mod.js"}},"gitHead":"42e89a0bc11c3e9012722404821b6851d1ea3450","scripts":{},"_npmUser":{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.1","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.0","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/rews_1.0.0_1762228842432_0.9526944669075099","host":"s3://npm-registry-packages-npm-production"}},"1.1.0":{"name":"@nktkas/rews","version":"1.1.0","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@1.1.0","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"bdfbb9f446ee601d4e93d53c82e4bdbd953f8f2d","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.1.0.tgz","fileCount":9,"integrity":"sha512-d3PkAMhHRhIkVu9tVfVGHA/S6vBCdc6130uuxmLfh813Ra4eTwmnRHOEvxY5AAZCpxKfEJ+nEC4Qr34T0YxY5w==","signatures":[{"sig":"MEYCIQCvKtohr79Pe3uyA7VA6tfZC8KtQW1GjvTXd904ZyVSAgIhANsyHIdIrXvdhdXaZ2LW+rYMoraoMaV6mCpU5wVxkPgt","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.1.0","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":44231},"main":"./script/mod.js","types":"./script/mod.d.ts","module":"./esm/mod.js","exports":{".":{"import":"./esm/mod.js","require":"./script/mod.js"}},"gitHead":"d75dc1b3fa3391e80e8b2c4a33a41ff698e020d4","scripts":{},"_npmUser":{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.1","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.0","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/rews_1.1.0_1762238709061_0.1650285135602818","host":"s3://npm-registry-packages-npm-production"}},"1.1.1":{"name":"@nktkas/rews","version":"1.1.1","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@1.1.1","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"7083ebc75ea1aec4c3e3b2f44bd46b9089d67f38","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.1.1.tgz","fileCount":13,"integrity":"sha512-4rcRQCbewjA5yCL+3WxAangy4WcR3a+abWID+8hwwvV73NokMw5f9ukIG6Or+FPAZ62TONmuLcIGKEdync0Tvw==","signatures":[{"sig":"MEUCIQDOxYLjoSW1nsCZniAO2OkxLaRCLZ7M237ps+g8rCl6+QIgGwgH1vJU7t15Z7HBZUOoC/4cAwypvXvRLRatoRjqOCQ=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.1.1","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":85872},"type":"module","engines":{"node":">=20.19.0"},"exports":"./mod.js","gitHead":"dcd90f718c6e1171b14f5e58eae64ca5e61104f6","scripts":{"test":"npx deno test -A && node --test","dev:fmt":"npx deno fmt && npx sort-package-json","dev:lint":"npx deno lint","dev:build":"npx tsc","dev:typecheck":"npx deno check --doc"},"_npmUser":{"name":"GitHub Actions","email":"npm-oidc-no-reply@github.com","trustedPublisher":{"id":"github","oidcConfigId":"oidc:f9a99a10-a2bb-4f1f-a10b-e0a8c0a061e8"}},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.2","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.1","_hasShrinkwrap":false,"devDependencies":{"ws":"^8.18.3","@types/ws":"^8.18.1","typescript":"^5.9.3","@types/node":"^24.10.1"},"_npmOperationalInternal":{"tmp":"tmp/rews_1.1.1_1763170858444_0.6157321192128455","host":"s3://npm-registry-packages-npm-production"}},"1.2.0":{"name":"@nktkas/rews","version":"1.2.0","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@1.2.0","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"268562f2b271dfa0959d925889269b2bc82f5fce","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.2.0.tgz","fileCount":13,"integrity":"sha512-Wje1pcGQNigRGPf4P3vLnP8qHzMO5oUXlM+VjyFUiPpFW7g4ueMHkUhSpykulxNb8MqG1pqhWDPwUfRqrdqGKA==","signatures":[{"sig":"MEQCIC9RSgIwyGmBQGvHwjz59InjdMGABDpSgYzgGCJpF7jIAiASUHE8x56Mh8bhw3ge44RFWfjvEVmUXeCO8IrZ5XGieg==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.2.0","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":86462},"type":"module","engines":{"node":">=20.19.0"},"exports":"./mod.js","gitHead":"ac769abf9e55b04eb30157a0b4fdd090eabc92b5","scripts":{"test":"npx deno test -A && node --test","dev:fmt":"npx deno fmt && npx sort-package-json","dev:lint":"npx deno lint","dev:build":"npx tsc","dev:typecheck":"npx deno check --doc"},"_npmUser":{"name":"GitHub Actions","email":"npm-oidc-no-reply@github.com","trustedPublisher":{"id":"github","oidcConfigId":"oidc:f9a99a10-a2bb-4f1f-a10b-e0a8c0a061e8"}},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.2","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.1","_hasShrinkwrap":false,"devDependencies":{"ws":"^8.18.3","@types/ws":"^8.18.1","typescript":"^5.9.3","@types/node":"^24.10.1"},"_npmOperationalInternal":{"tmp":"tmp/rews_1.2.0_1763189478475_0.7371560797830843","host":"s3://npm-registry-packages-npm-production"}},"1.2.1":{"name":"@nktkas/rews","version":"1.2.1","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@1.2.1","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"beb90562f4dbbae50fbf04c36414ba6eb13fc5bf","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.2.1.tgz","fileCount":14,"integrity":"sha512-eoS2ucLwyfsHfWKu5zOUsIfHR1031WnEPsFAz6zceM/hMS+awjcnUmEnq61NMlg+GWp7hcwOLd9nvVVOS+0rNA==","signatures":[{"sig":"MEQCIDkC5BbQ/lYBbLk/FiVJXa9bnnIWuILloHZAVYmQu/uvAiBxVZLgDMEQpOf5lnLLuzfJo3bSZ40yKNY6PM6j1zsHEA==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.2.1","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":90909},"main":"./script/mod.js","types":"./script/mod.d.ts","module":"./esm/mod.js","engines":{"node":">=20.19.0"},"exports":{".":{"import":"./esm/mod.js","require":"./script/mod.js"}},"gitHead":"9b0fe08899ad8f463484c37b9de6e8fc1d04f626","scripts":{},"_npmUser":{"name":"GitHub Actions","email":"npm-oidc-no-reply@github.com","trustedPublisher":{"id":"github","oidcConfigId":"oidc:f9a99a10-a2bb-4f1f-a10b-e0a8c0a061e8"}},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.2","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.1","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/rews_1.2.1_1764164051582_0.01541000343751131","host":"s3://npm-registry-packages-npm-production"}},"1.2.2":{"name":"@nktkas/rews","version":"1.2.2","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"url":"https://github.com/nktkas","name":"nktkas","email":"github.turk9@passmail.net"},"license":"MIT","_id":"@nktkas/rews@1.2.2","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"homepage":"https://github.com/nktkas/rews","bugs":{"url":"https://github.com/nktkas/rews/issues"},"dist":{"shasum":"df3a4ee36c1ae8761f3a9ba1decb6f9fb1a65257","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.2.2.tgz","fileCount":14,"integrity":"sha512-gO6igHgXEep4PApu7jKDlk232fWoBBmheQ4K3BkcZd+QsQ6PTo7F56jnz3kQxLWnHWHpXVh1vHO/VM6vTrorYg==","signatures":[{"sig":"MEYCIQCg6tzZClb9WG6i48O/3cGMAuZPnNgiEXrd52TEVSQR3wIhAPmsKNQBazT8+m/CPMEPaQBvulTkt8iLyatVDHcNcYAe","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.2.2","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"unpackedSize":93163},"main":"./script/mod.js","types":"./script/mod.d.ts","module":"./esm/mod.js","engines":{"node":">=20.19.0"},"exports":{".":{"import":"./esm/mod.js","require":"./script/mod.js"}},"gitHead":"9f79519b955d6b52cd7544c8fcef24b80c234b34","scripts":{},"_npmUser":{"name":"GitHub Actions","email":"npm-oidc-no-reply@github.com","trustedPublisher":{"id":"github","oidcConfigId":"oidc:f9a99a10-a2bb-4f1f-a10b-e0a8c0a061e8"}},"repository":{"url":"git+https://github.com/nktkas/rews.git","type":"git"},"_npmVersion":"11.6.2","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","directories":{},"sideEffects":false,"_nodeVersion":"24.11.1","_hasShrinkwrap":false,"_npmOperationalInternal":{"tmp":"tmp/rews_1.2.2_1764514850999_0.6056768169159079","host":"s3://npm-registry-packages-npm-production"}},"1.2.3":{"name":"@nktkas/rews","version":"1.2.3","description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"author":{"name":"nktkas","email":"github.turk9@passmail.net","url":"https://github.com/nktkas"},"homepage":"https://github.com/nktkas/rews","repository":{"type":"git","url":"git+https://github.com/nktkas/rews.git"},"license":"MIT","bugs":{"url":"https://github.com/nktkas/rews/issues"},"main":"./script/mod.js","module":"./esm/mod.js","exports":{".":{"import":"./esm/mod.js","require":"./script/mod.js"}},"scripts":{},"sideEffects":false,"engines":{"node":">=20.19.0"},"gitHead":"133d277549ef6ac9d78996eb8f9ac18d840d81cf","types":"./script/mod.d.ts","_id":"@nktkas/rews@1.2.3","_nodeVersion":"24.12.0","_npmVersion":"11.6.2","dist":{"integrity":"sha512-cpfcIlkUpYlbAI1cvfCTBCajWZfUM6gWyuCJXszECKxdetsU3vURKC8Sz//MDR6RWoULk9T48eJ+0agxT7yB1w==","shasum":"e0f91757e402e04289e504c36f024b1b057c1fb5","tarball":"https://registry.npmjs.org/@nktkas/rews/-/rews-1.2.3.tgz","fileCount":14,"unpackedSize":94686,"attestations":{"url":"https://registry.npmjs.org/-/npm/v1/attestations/@nktkas%2frews@1.2.3","provenance":{"predicateType":"https://slsa.dev/provenance/v1"}},"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEUCIEXDnG8kzz8fvB8ygWk00oprvpRZzB7tXs/gVdJQQpz8AiEAl5oGDLEWKI3OzgpT/HeF7rZDZ6IADa1GG+0PrgKZtHU="}]},"_npmUser":{"name":"GitHub Actions","email":"npm-oidc-no-reply@github.com","trustedPublisher":{"id":"github","oidcConfigId":"oidc:f9a99a10-a2bb-4f1f-a10b-e0a8c0a061e8"}},"directories":{},"maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/rews_1.2.3_1766638828623_0.08542849848359624"},"_hasShrinkwrap":false}},"time":{"created":"2025-11-03T11:04:42.934Z","modified":"2025-12-25T05:00:29.093Z","0.1.0":"2025-11-03T11:04:43.517Z","1.0.0":"2025-11-04T04:00:42.657Z","1.1.0":"2025-11-04T06:45:09.251Z","1.1.1":"2025-11-15T01:40:58.676Z","1.2.0":"2025-11-15T06:51:18.687Z","1.2.1":"2025-11-26T13:34:11.782Z","1.2.2":"2025-11-30T15:00:51.208Z","1.2.3":"2025-12-25T05:00:28.786Z"},"bugs":{"url":"https://github.com/nktkas/rews/issues"},"author":{"name":"nktkas","email":"github.turk9@passmail.net","url":"https://github.com/nktkas"},"license":"MIT","homepage":"https://github.com/nktkas/rews","keywords":["websocket","ws","reconnecting","reconnection","reconnect","retrying","automatic"],"repository":{"type":"git","url":"git+https://github.com/nktkas/rews.git"},"description":"WebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.","maintainers":[{"name":"nktkas","email":"npmjs.kvd21@passinbox.com"}],"readme":"# @nktkas/rews\n\n[![npm](https://img.shields.io/npm/v/@nktkas/rews)](https://www.npmjs.com/package/@nktkas/rews)\n[![JSR](https://jsr.io/badges/@nktkas/rews)](https://jsr.io/@nktkas/rews)\n[![bundlejs](https://img.shields.io/bundlejs/size/@nktkas/rews)](https://bundlejs.com/?q=@nktkas/rews)\n\nWebSocket with auto-reconnection — a drop-in replacement for the standard WebSocket.\n\n## Installation\n\n### Node.js (choose your package manager)\n\n```\nnpm i @nktkas/rews\n\npnpm add @nktkas/rews\n\nyarn add @nktkas/rews\n```\n\n### Deno\n\n```\ndeno add jsr:@nktkas/rews\n```\n\n## Usage\n\nSimply replace `WebSocket` with `ReconnectingWebSocket`:\n\n```ts\nimport { ReconnectingWebSocket } from \"@nktkas/rews\";\n\n// const ws = new WebSocket(\"wss://...\");\nconst ws = new ReconnectingWebSocket(\"wss://...\", {\n  // optional reconnection options\n});\nws.addEventListener(\"message\", (e) => console.log(e.data));\nws.send(\"data\");\n```\n\n### Options\n\n```ts\ninterface ReconnectingWebSocketOptions {\n  /**\n   * Custom WebSocket constructor.\n   * @default globalThis.WebSocket\n   */\n  WebSocket?: new (url: string | URL, protocols?: string | string[]) => WebSocket;\n  /**\n   * Maximum number of reconnection attempts.\n   * @default 3\n   */\n  maxRetries?: number;\n  /**\n   * Maximum time in ms to wait for a connection to open.\n   * Set to `null` to disable.\n   * @default 10_000\n   */\n  connectionTimeout?: number | null;\n  /**\n   * Delay before reconnection in ms.\n   * May be a number or a function that returns a number.\n   * @param attempt - The current attempt number.\n   * @default (attempt) => Math.min(~~(1 << attempt) * 150, 10_000); // Exponential backoff (max 10s)\n   */\n  reconnectionDelay?: number | ((attempt: number) => number);\n}\n```\n\n### Differences from standard WebSocket\n\n#### Automatic Reconnection\n\n`ReconnectingWebSocket` will automatically attempt to reconnect when the connection is lost, up to a configurable number\nof retries.\n\n#### Message Buffering\n\nMessages sent while the connection is closed are buffered and sent once the connection is re-established.\n\n#### Preserved Event Listeners\n\nAll event listeners added to the `ReconnectingWebSocket` instance are preserved across reconnections.\n\n#### Dynamic URL and Protocol Providers\n\nThe `url` and `protocols` parameters accept functions that return their respective values. These functions are invoked\non each reconnection attempt, enabling dynamic endpoint resolution or authentication token refresh.\n\n```ts\nconst ws = new ReconnectingWebSocket(\n  () => `wss://example.com?token=${getAuthToken()}`,\n  () => [\"protocol-v1\"],\n);\n```\n\n#### Terminate Event\n\nThe `terminate` event fires when the WebSocket permanently closes.\n\nError Codes:\n\n- `RECONNECTION_LIMIT` - Maximum reconnection attempts reached\n- `TERMINATED_BY_USER` - Closed via `close()` method\n- `UNKNOWN_ERROR` - An unknown error occurred during reconnection\n\nUsage:\n\n```ts\nws.addEventListener(\"terminate\", (event) => {\n  const error = event.detail; // ReconnectingWebSocketError\n  console.log(error.code); // Error code\n  console.log(error.cause); // Original error if available\n});\n\n// Check termination status manually\nif (ws.isTerminated) {\n  const error = ws.terminationReason!; // ReconnectingWebSocketError\n  console.log(error.code); // Error code\n  console.log(error.cause); // Original error if available\n}\n```\n\n## Why Use This\n\n**Before:**\n\n```ts\n// Requires manual reconnection logic, listener re-attachment, and message buffering\nlet ws: WebSocket;\nlet attempts = 0;\nconst messageHandler = (e) => console.log(e.data);\nconst messageQueue: string[] = [];\n\nfunction connect() {\n  ws = new WebSocket(\"wss://example.com\");\n\n  // Re-attach listener on each reconnection\n  ws.addEventListener(\"message\", messageHandler);\n\n  ws.onopen = () => {\n    attempts = 0;\n\n    // Send queued messages\n    while (messageQueue.length > 0) {\n      ws.send(messageQueue.shift()!);\n    }\n  };\n\n  ws.onclose = () => {\n    // Attempt reconnection\n    if (attempts++ < 3) {\n      setTimeout(connect, 1000);\n    }\n  };\n\n  ws.onerror = () => {\n    ws.close();\n  };\n}\n\nfunction send(data: string) {\n  if (ws.readyState === WebSocket.OPEN) {\n    ws.send(data);\n  } else {\n    messageQueue.push(data); // Buffer message if not connected\n  }\n}\n\nconnect();\nsend(\"data\");\n```\n\n**After:**\n\n```ts\n// Original WebSocket API remains unchanged despite reconnection logic\nconst ws = new ReconnectingWebSocket(\"wss://example.com\");\nws.addEventListener(\"message\", (e) => console.log(e.data)); // listener persists across reconnections\nws.send(\"data\"); // buffered if disconnected\n```\n","readmeFilename":"README.md"}